sudo: false
os: linux
language: python
dist: precise

git:
  depth: 3

env:
  global: TERM=dumb

matrix:
  include:
    - python: "2.6"
      env: TOXENV=py26
    - python: "3.2"
      env: TOXENV=py32
    - python: "nightly"
      env: TOXENV=py-nightly
    - python: "pypy"
      env: TOXENV=pypy
    - python: "pypy3"
      env: TOXENV=pypy3
    - os: osx
      language: generic
      env: TOXENV=py-default
  allow_failures:
    - os: osx
  fast_finish: true

addons:
  apt:
    packages:
      - p7zip-full
      - openjdk-7-jre

before_install:
  - if [[ $TRAVIS_OS_NAME == "osx" ]]; then brew update; fi;
  - if [[ $TRAVIS_OS_NAME == "osx" ]]; then brew install p7zip; fi;

install: true
script: python main.py
